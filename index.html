
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Solicitud de cita</title>
</head>
<body>
    <h1>Solicitud de cita</h1>
    <form id="cita-form">
        <label for="tipo_servicio">Tipo de servicio:</label>
        <select id="tipo_servicio" name="tipo_servicio">
            <option>Adquisición de propiedad</option>
            <option>Venta de propiedad</option>
            <option>Alquiler</option>
            <option>Gestión de propiedad</option>
            <option>Consultoría legal</option>
            <option>Asesoría de inversión</option>
            <option>Tour virtual</option>
        </select><br><br>

        <label for="zona">Zona de interés:</label>
        <select id="zona" name="zona">
            <option>Santo Domingo</option>
            <option>La Romana</option>
            <option>Punta Cana</option>
            <option>Santiago</option>
            <option>Samana</option>
        </select><br><br>

        <label for="modalidad">Modalidad preferida:</label>
        <select id="modalidad" name="modalidad">
            <option>Presencial</option>
            <option>Virtual</option>
        </select><br><br>

        <label for="idioma">Idioma:</label>
        <select id="idioma" name="idioma">
            <option>Español</option>
            <option>Inglés</option>
            <option>Francés</option>
        </select><br><br>

        <label for="precio">Precio estimado (USD):</label>
        <input type="number" id="precio" name="precio"><br><br>

        <button type="submit">Enviar</button>
    </form>

    <p id="resultado"></p>

    <script>
        document.getElementById("cita-form").addEventListener("submit", async function(e) {
            e.preventDefault();

            const data = {
                tipo_servicio: document.getElementById("tipo_servicio").value,
                zona: document.getElementById("zona").value,
                modalidad: document.getElementById("modalidad").value,
                idioma: document.getElementById("idioma").value,
                precio: parseFloat(document.getElementById("precio").value)
            };

            try {
                const response = await fetch("https://prod-21.westeurope.logic.azure.com:443/workflows/c8193308226046d8a3fca529fa1f68e2/triggers/When_a_HTTP_request_is_received/paths/invoke?api-version=2016-10-01&sp=%2Ftriggers%2FWhen_a_HTTP_request_is_received%2Frun&sv=1.0&sig=P-uRq5x8joXIebE5h5ZyZqhMLSN4VPqay5atvfiEKfI", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(data)
                });

                const result = await response.text();
                document.getElementById("resultado").innerText = result;
            } catch (error) {
                document.getElementById("resultado").innerText = "Error al enviar la solicitud.";
            }
        });
    </script>
</body>
</html>
